Theoretical Computer Science 406 (2008) 187â€“206
Contents lists available at ScienceDirect
Theoretical Computer Science
journal homepage: www.elsevier.com/locate/tcs
A new model for selfish routing
$
Thomas LÃ¼cking a, Marios Mavronicolas b,âˆ—, Burkhard Monien a, Manuel Rode a
a Faculty of Computer Science, Electrical Engineering and Mathematics, University of Paderborn, FÃ¼rstenallee 11, 33102 Paderborn, Germany
b Department of Computer Science, University of Cyprus, P.O. Box 20537, Nicosia CY-1678, Cyprus
a r t i c l e
i n f o
Keywords:
Game theory
Nash equilibrium
Coordination ratio
a b s t r a c t
In this work, we introduce and study a new, potentially rich model for selfish routing
over non-cooperative networks, as an interesting hybridization of the two prevailing such
models, namely the KP model [E. Koutsoupias, C.H. Papadimitriou, Worst-case equilibria,
in: G. Meinel, S. Tison (Eds.), Proceedings of the 16th Annual Symposium on Theoretical
Aspects of Computer Science, in: Lecture Notes in Computer Science, vol. 1563, Springer-
Verlag, 1999, pp. 404â€“413] and the W model [J.G. Wardrop, Some theoretical aspects of
road traffic research, Proceedings of the of the Institute of Civil Engineers 1 (Pt. II) (1952)
325â€“378].
In the hybrid model, each of n users is using a mixed strategy to ship its unsplittable
traffic over a network consisting of m parallel links. In a Nash equilibrium, no user can
unilaterally improve its Expected Individual Cost. To evaluate Nash equilibria, we introduce
Quadratic Social Cost as the sum of the expectations of the latencies, incurred by the
squares of the accumulated traffic. This modeling is unlike the KP model, where Social Cost
[E. Koutsoupias, C.H. Papadimitriou, Worst-case equilibria, in: G. Meinel, S. Tison (Eds.),
Proceedings of the 16th Annual Symposium on Theoretical Aspects of Computer Science,
in: Lecture Notes in Computer Science, vol. 1563, Springer-Verlag, 1999, pp. 404â€“413] is the
expectation of the maximum latency incurred by the accumulated traffic; but it is like the
W model since the Quadratic Social Cost can be expressed as a weighted sum of Expected
Individual Costs. We use the Quadratic Social Cost to define Quadratic Coordination Ratio.
Here are our main findings:
â€¢ Quadratic Social Cost can be computed in polynomial time. This is unlike the #P -
completeness [D. Fotakis, S. Kontogiannis, E. Koutsoupias, M. Mavronicolas, P. Spirakis,
The structure and complexity of Nash equilibria for a selfish routing game, in:
P. Widmayer, F. Triguero, R. Morales, M. Hennessy, S. Eidenbenz, R. Conejo (Eds.),
Proceedings of the 29th International Colloquium on Automata, Languages and
Programming, in: Lecture Notes in Computer Science, vol. 2380, Springer-Verlag, 2002,
pp. 123â€“134] of computing Social Cost for the KP model.
â€¢ For the case of identical users and identical links, the fully mixed Nash equilibrium
[M. Mavronicolas, P. Spirakis, The price of selfish routing, Algorithmica 48 (1) (2007)
91â€“126], where each user assigns positive probability to every link, maximizes
Quadratic Social Cost.
$ A preliminary version of this work appeared in the Proceedings of the 21st International Symposium on Theoretical Aspects of Computer Science, V. Diekert
and M. Habib eds., pp. 547â€“558, Vol. 2996, Lecture Notes in Computer Science, Springer-Verlag, Montpellier, France, March 2004. This work has been
partially supported by the IST Program of the European Union under projects ALCOM-FT (contract number IST-1999-14186). FLAGS (contract number
IST-2001-33116) and DELIS (contract number 001907).
âˆ—Corresponding author.
E-mail addresses: luck@uni-paderborn.de (T. LÃ¼cking), mavronic@ucy.ac.cy (M. Mavronicolas), bm@uni-paderborn.de (B. Monien),
rode@uni-paderborn.de (M. Rode).
0304-3975/$ â€“ see front matter Â© 2008 Elsevier B.V. All rights reserved.
doi:10.1016/j.tcs.2008.06.045
188
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
â€¢ As our main result, we present a comprehensive collection of tight, constant (that
is, independent of m and n), strictly less than 2, lower and upper bounds on the
Quadratic Coordination Ratio for several, interesting special cases. Some of the bounds
stand in contrast to corresponding super-constant bounds on the Coordination Ratio
previously shown in [A. Czumaj, B. VÃ¶cking, Tight bounds for worst-case equilibria, ACM
Transactions on Algorithms 3 (1) (2007); E. Koutsoupias, M. Mavronicolas, P. Spirakis,
Approximate equilibria and ball fusion, Theory of Computing Systems 36 (6) (2003)
683â€“693; E. Koutsoupias, C.H. Papadimitriou, Worst-case equilibria, in: G. Meinel,
S. Tison (Eds.), Proceedings of the 16th Annual Symposium on Theoretical Aspects
of Computer Science, in: Lecture Notes in Computer Science, vol. 1563, Springer-
Verlag, 1999, pp. 404â€“413; M. Mavronicolas, P. Spirakis, The price of selfish routing,
Algorithmica 48 (1) (2007) 91â€“126] for the KP model.
Â© 2008 Elsevier B.V. All rights reserved.
1. Introduction
1.1. Motivation and framework
1.1.1. Outline
We propose a new model for selfish routing over non-cooperative networks, as a hybridization of the two prevailing
such models, namely the KP model, due to Koutsoupias and Papadimitriou [26], and the W model due to Wardrop [36].
Although proposed only recently in the context of studying selfish traffic over the Internet, the KP model has yet received
a lot of interest â€” see, e.g., [3,12,13,15,16,18,20,23,25,28,29] or [17,24] for surveys. The W model dates back to studies of
transportation networks in the 1950s; however, much recent work on selfish routing (see [34] and references therein), has
witnessed a revival of interest into the W model.
Within the new model, we study an interesting strategic game, originally proposed in [26]; we are especially interested in
the associated Nash equilibria [31,32]. At a Nash equilibrium, no player (here, user) can unilaterally improve their objective
by switching to a different strategy (here, link). In a pure Nash equilibrium, each player chooses exactly one strategy (with
probability one); in a mixed Nash equilibrium, each player uses a probability distribution over strategies, and in the fully
mixed Nash equilibrium [29] all probabilities are (strictly) positive.
1.1.2. The KP model and the W model
The two models differ with respect to their assumptions about the following parameters:
â€¢ The structure and topology of the underlying network they consider; in both cases, two distinguished nodes, the source
and the destination, are considered.
â€¢ The splittability or unsplittability of the selfish traffic; unsplittable traffic is routed all together along a single path, while
splittable traffic may split into infinitesimal pieces.
â€¢ The type of equilibria (pure or mixed) they consider.
â€¢ The definition of (Expected) Individual Cost they adopt; these are used for defining Nash equilibria and Wardrop equilibria,
respectively.
â€¢ The definitions of Social Cost (a performance measure for equilibria) and Optimum (an optimality measure for general
assignments). In turn, these are used for defining Coordination Ratio [26], as the worst-case ratio of Social Cost over
Optimum, over all equilibria. A worst-case equilibrium maximizes the particular Social Cost.
We continue to describe separately the KP model and the W model.
â€¢ The KP model has considered a simple network consisting of m parallel links, from source to destination; each link bears
a capacity â€” its traffic processing rate. Selfish traffic is modeled as a finite collection of users, each bearing an unsplittable
traffic, and shipping it using a mixed strategy â€” a probability distribution over links. The Expected Individual Cost of a
user is its expected (conditional) latency on a link it chooses; in a Nash equilibrium, no Expected Individual Cost can be
unilaterally decreased. The Social Cost is the expectation of the maximum link latency; the Optimum is the least possible
maximum link latency. The KP model may be viewed as a weighted congestion game [30] equipped with Social Cost and
Coordination Ratio.
â€¢ The W model has considered arbitrary multicommodity networks (that is, networks with multiple sources and
destinations), with a latency function for each link. Selfish traffic is modeled as a splittable flow. The Individual Cost for
a path (from source to destination), is the sum of the latencies incurred on its links. In a Wardrop equilibrium, all (used)
paths have the same Individual Cost. In the W model, users may be thought of as (infinitely many) non-atomic entities,
each carrying infinitesimal traffic; then, the definitions of Individual Cost for the W and the KP models are the same,
while pure and mixed equilibria coincide in the W model. The Social Cost is the sum, over all paths, of Individual Costs.1
The Optimum is the least possible, over all flows, Social Cost.
1 Social Cost as the expectation of maximum latency has also been considered for the W model [11,35].
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
189
1.1.3. The hybrid model
We follow the KP model to consider the parallel links network, unsplittable traffic, and mixed Nash equilibria. The
Expected Individual Cost we adopt is the expected latency incurred to a user. This generalized definition applies to arbitrary
latency functions, while it matches the original definition of Expected Individual Cost for the KP model [26], in the case of
linear latency functions. Hence, the Nash equilibria for our new model are exactly those for the KP model. However, we follow
the W model to model Social Cost as some kind of total latency, which turns out to be a certain sum of Expected Individual
Costs. So, our hybrid model represents the first step towards accommodating unsplittable traffic and mixed strategies within
the W model, but also the first step towards accommodating total latency within the KP model.
We continue to describe the hybrid model in some more detail. For any link, consider the latency incurred by the square
of the total traffic on the link; add up the expectations of these latencies over all links. This results in Quadratic Social
Cost. (Similar modelings that have employed quadratic cost functions can be found in both the scheduling literature [1,
8,10,27], and the networking literature [2].) Quadratic Optimum is the best possible Quadratic Social Cost, over all pure
assignments. Quadratic Coordination Ratio is the worst-case ratio, over all Nash equilibria, of Quadratic Social Cost over
Quadratic Optimum.
Note that expectation and maximum used in the definition of Social Cost for the KP model do not commute. However,
expectation and sum used, in the definition of Quadratic Social Cost for our model do commute. This commutativity allows
some hope for a more tractable analysis of Nash equilibria in the hybrid model.
1.2. Contribution and significance
Some of our results deal specifically with the cases of identical users and identical links, with equal (unit) user traffics and
link capacities, respectively; the most general cases are those of arbitrary users and related links, respectively.
1.2.1. Quadratic social cost
We observe that Quadratic Social Cost can be expressed as a weighted sum of Expected Individual Costs, where the
weight is the user traffic. This observation allows for the computation of Quadratic Social Cost for any mixed assignment in
polynomial time O(mn) (Theorem 4.1).
For the fully mixed Nash equilibria, we obtain two very simple combinatorial expressions for Quadratic Social Cost,
in the two cases of identical links and identical users (Theorems 4.2 and 4.4, respectively). For these two cases, the two
expressions imply corresponding polynomial time algorithms (Corollaries 4.3 and 4.5). For the case of identical users, the
link capacities enter the expression for Quadratic Social Cost, via their sum appearing in the denominator. This dependence
excludes Braess-like paradoxes [7], while it implies that the Quadratic Social Cost of the fully mixed Nash equilibrium is
insensitive to reallocating capacity among the links.
We use a combinatorial analysis to prove that, for the case of identical users and identical links, the fully mixed Nash
equilibrium is the worst-case Nash equilibrium with respect to Quadratic Social Cost (Theorem 4.8). We formulate the
Quadratic Fully Mixed Nash Equilibrium Conjecture (Conjecture 4.1) to speculate that this happens in the general case.
1.2.2. Quadratic coordination ratio
As our main result, we obtain a collection of tight bounds on the Quadratic Coordination Ratio. All bounds we prove are
either equal to or bounded by a constant strictly less than 2.
â€¢ We first consider pure Nash equilibria.2 To establish upper bounds, we prove some new structural properties of optimal
assignments and pure Nash equilibria, which may be of independent interest. For example, Proposition 3.2 provides
an efficient characterization of optimal assignments in the hybrid model, which implies that those can be decided in
polynomial time (Corollary 3.3). We obtain:
Â· For the case of identical users, the Quadratic Coordination Ratio is 4
3 (Theorem 5.1).
Â· For the case of identical links, the Quadratic Coordination Ratio is 9
8 (Theorem 5.2).
These different tight bounds imply a Quadratic Coordination Ratio separation between the cases of identical links and of
identical users, restricted to pure Nash equilibria.
â€¢ We continue to consider mixed Nash equilibria.
Â· For the case of identical links, we prove a tight bound of 1 + min{n,m}âˆ’1
m
on Quadratic Coordination Ratio for the fully
mixed Nash equilibrium.
Â· For the case of identical users and identical links, we prove a (sometimes better) upper bound of 1 + min{ mâˆ’1
n , nâˆ’1
m },
which holds for all Nash equilibria.
2 These always exist as they coincide with those for the KP model, which are known to exist [18, Theorem 1].
190
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
1.3. Directly related work and comparison
Computing the Social Cost of a Nash equilibrium in the KP model is known to be #P -complete [18, Theorem 8]; this
applies even if links are identical. This stands in contrast to the obtained polynomial computation of Quadratic Social Cost,
in the hybrid model.
Fully mixed Nash equilibria were introduced and analyzed in [29]. The (yet unproven) Fully Mixed Nash Equilibrium
Conjecture asserts that the worst-case Nash equilibrium for the KP model, is the fully mixed Nash equilibrium. This conjecture
has been motivated by some results in [18]; it was explicitly formulated in [23] and further studied in [21,22,28].
Bounds on Coordination Ratio for the KP model were proved in [3,13,16,20,25,29]. These include (tight) bounds of
Î˜( lg m
lg lg m) for the case of identical links [13,25,26,29], and of Î˜(
lg m
lg lg lg m) for the case of related links [13]. These bounds are
contrasted by the corresponding constant bounds on the Quadratic Coordination Ratio, proved here for the hybrid model.
(For the W model, there have been shown constant bounds on Coordination Ratio â€” see [34] and references therein.)
1.4. Organization
Section 2 presents the hybrid model. Some preliminary properties of Nash equilibria, and optimal assignments are
articulated in Section 3. The Quadratic Social Cost is studied in Section 4. The bounds on the Quadratic Coordination Ratio
are presented in Section 5. We conclude, in Section 6, with a discussion of our results and some open problems.
2. The model
Our definitions for the new model are built on top of those for the KP model [26]; those definitions are extended to
accommodate features from the W model [36]. The definitions for the KP model are patterned after those in [29, Section 2],
[18, Section 2], [16, Section 2], [23, Section 2] and [28, Section 2], which, in turn, were based on those in [26, Sections 1 & 2].
Throughout, denote for any integer m â‰¥1, [m] = {1, . . . , m}; take [0] = âˆ…. For a random variable X, with associated
probability distribution P; denote EP(X) the expectation of X. For a probability p, denote p = 1 âˆ’p.
2.1. General
We consider a simple network consisting of a set of m parallel links 1, 2, . . . , m, from a source node to a destination node.
Each of n users 1, 2, . . . , n wishes to route a particular amount of traffic along a (non-fixed) link, from source to destination.
Assume throughout that m â‰¥2 and n â‰¥2. (Throughout, we will be using subscripts for users and superscripts for links.)
Denote wi the traffic of user i âˆˆ[n]. Define the nÃ—1 traffic vector w in the natural way. Without loss of generality, assume
that w1 â‰¥w2 â‰¥Â· Â· Â· â‰¥wn. Denote W = P
iâˆˆ[n] wi, W1 = P
iâˆˆ[n] w2
i and W2 = P
i,jâˆˆ[n],i<j wiwj. (These quantities will be
used in our later proofs.) Note that W 2 = W1 + 2W2. It is a well known simple fact that W1 â‰¥W 2
n .
Denote câ„“> 0 the capacity of link â„“âˆˆ[m], representing the rate at which the link processes traffic. So, the latency for
traffic w through link â„“equals w/câ„“. Assume throughout, without loss of generality, that c1 â‰¥c2 â‰¥Â· Â· Â· â‰¥cm. Denote
C = P
jâˆˆ[m] cj. An instance is a pair âŸ¨w, câŸ©.
In the case of identical users, all user traffic is 1; in the case of identical links, all link capacities are 1. In the general case,
we talk about arbitrary users and related links.
2.2. Strategies and assignments
A pure strategy for user i âˆˆ[n] is some specific link. A mixed strategy for user i âˆˆ[n] is a probability distribution over
pure strategies; so, it is a probability distribution over links.
A pure assignment is an n-tuple L = âŸ¨â„“1, â„“2, . . . , â„“nâŸ©âˆˆ[m]n; a mixed assignment is an n Ã— m probability matrix P of
nm probabilities p
j
i, i âˆˆ[n] and j âˆˆ[m], where p
j
i is the probability that user i chooses link j. Throughout, we will cast a
pure assignment as a special case of a mixed assignment, in which all (mixed) strategies are pure. Moreover, the mixed
assignment P can be cast as a collection of pure assignments LP = âŸ¨â„“1, â„“2, . . . , â„“nâŸ©, such that for all users i âˆˆ[n], pâ„“i
i > 0;
any such pure assignment LP will be called consistent with P. So, a mixed assignment P induces a probability distribution PP
on the space of all pure assignments consistent with P. A mixed assignment P is fully mixed [29, Section 2.2], if for all users
i âˆˆ[n] and links j âˆˆ[m], p
j
i > 0. A user i âˆˆ[n] is solo in the pure assignment L if no other user is assigned to link â„“i; in such
case, say that link â„“i is solo as well.
Fix now a mixed assignment P. The load Î´â„“(P) on link â„“âˆˆ[m], induced by P is the total traffic assigned to the link
according to P; so, Î´â„“(P) is a random variable. For each link â„“âˆˆ[m], denote Î¸â„“(P) the expected load on link â„“âˆˆ[m]; thus,
Î¸â„“(P) = EP(Î´â„“(P)) = P
iâˆˆ[n] pâ„“
i wi. The latency âˆ†â„“(P) on link â„“âˆˆ[m], induced by P is the latency due to the load assigned to
the link according to P; so, âˆ†â„“(P) is a random variable and âˆ†â„“(P) = Î´â„“(P)
câ„“.
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
191
2.3. Costs
2.3.1. Individual cost and expected individual cost
For a pure assignment L, the Individual Cost for user i âˆˆ[n], denoted Î»i(L), is Î»i(L) = âˆ†â„“i(L); so, the Individual Cost for
a user is the latency of the link it chooses. For a mixed assignment P, the Expected Individual Cost for user i âˆˆ[n], denoted
Î»i(P), is the expectation according to P of the Individual Cost for the user in any pure assignment LP consistent with P; so,
Î»i(P) = EP (Î»i(LP)).
2.3.2. Quadratic social cost
Associated with an instance âŸ¨w, câŸ©, and a mixed assignment P is the Quadratic Social Cost, denoted as QSC(w, c, P), which
is the expectation according to P, of the sum of the link latencies due to the squares of the incurred loads, in a pure assignment
L, consistent with P; so,
QSC(w, c, P) = EP
 X
â„“âˆˆ[m]
(Î´â„“(LP))2
câ„“
!
.
For a pure assignment LP = âŸ¨â„“1, . . . , â„“nâŸ©, changing the summation order, and using the definition of Individual Cost, yields
that P
â„“âˆˆ[m]
(Î´â„“(LP))2
câ„“
= P
iâˆˆ[n] wi Â· Î´â„“i(LP)
câ„“i
= P
iâˆˆ[n] wiÎ»i(LP). So, linearity of expectation and the definition of Expected
Individual Cost imply that
QSC(w, c, P) =
X
iâˆˆ[n]
wi Î»i(P).
Thus, the Quadratic Social Cost is a weighted sum of Expected Individual Costs, where the weight is the user traffic. There is
a counterpart of Quadratic Social Cost in the KP model. Associated with an instance âŸ¨w, câŸ©, and a mixed assignment P is the
Maximum Social Cost [26], denoted MSC(w, c, P), which is the expectation according to P, of the maximum of the incurred
link latencies in a pure assignment LP; so,
MSC(w, c, P) = EP

max
â„“âˆˆ[m] âˆ†â„“(LP)

.
2.3.3. Quadratic optimum
Associated with an instance âŸ¨w, câŸ©is the Quadratic Optimum, denoted QOPT(w, c), which is the least possible, over all
pure assignments, sum of link latencies incurred by the squares of the total traffic on the links; so,
QOPT(w, c) = min
Lâˆˆ[m]n
X
â„“âˆˆ[m]
(Î´â„“(L))2
câ„“
.
Note that QOPT(w, c) refers to the optimal pure assignment. Formally, a pure assignment L is optimal for the instance âŸ¨w, câŸ©,
if QSC(w, c, L) = QOPT(w, c). Clearly, for the case of identical users and identical links, QOPT(w, c) â‰¥max{n, n2
m } =
n max{1, n
m}. There is a counterpart of Quadratic Optimum in the KP model. This is the Maximum Optimum [26], denoted
MOPT(w, c), and defined as the least possible, over all pure assignments, maximum incurred link latency; so,
MOPT(w, c) = min
Lâˆˆ[m]n max
â„“âˆˆ[m] âˆ†â„“(L).
2.4. Nash equilibria
Given an instance âŸ¨w, câŸ©, the mixed assignment P, is a Nash equilibrium [26, Section 2] if for each user i âˆˆ[n], it minimizes
the Expected Individual Cost Î»i(P), over all mixed assignments Q that differ from P, only with respect to the mixed strategy
of user i; that is, for all such mixed assignments Q , Î»i(P) â‰¤Î»i(Q). Thus, in a Nash equilibrium, there is no incentive for a
user to unilaterally deviate from its mixed strategy.
Denote a fully mixed Nash equilibrium as F. In the case of identical links, a fully mixed Nash equilibrium exists always
and uniquely [29, Lemma 15]; there, all links are equiprobable (each chosen with probability
1
m) for each user. The fully
mixed Nash equilibrium does not necessarily exist in the case of identical users [29, Lemma 22]; when it exists, it is unique,
but for each user, each link â„“âˆˆ[m] is now chosen with probability m+nâˆ’1
(nâˆ’1)C câ„“âˆ’
1
nâˆ’1.
192
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
2.5. Quadratic coordination ratio
The Quadratic Coordination Ratio, denoted QCR, is the worst-case ratio QSC(w,c,P)
QOPT(w,c) , over all instances âŸ¨w, câŸ©, and associated
Nash equilibria P. This is similar to Maximum Coordination Ratio, denoted MCR, which was defined in [26] as the worst-case
ratio MSC(w,c,P)
MOPT(w,c) , over all instances âŸ¨w, câŸ©and associated Nash equilibria P.
3. Preliminaries
We present some properties of Nash equilibria, and optimal assignments in the new model. We first prove that the
Expected Individual Cost takes a special form for any (mixed) assignment.
Lemma 3.1. Fix an instance âŸ¨w, câŸ©, and a mixed assignment P. Then, for each user i âˆˆ[n],
Î»i (P) =
X
â„“âˆˆ[m]
pâ„“
i
wi +
X
kâˆˆ[n]:kÌ¸=i
pâ„“
kwk
câ„“
.
Proof. By the definition of Individual Cost and Expected Individual Cost, we obtain that
Î»i(P) =
X
LPâˆˆ[m][n]
PP(LP) Â· Î»i(LP)
=
X
jâˆˆ[m]
ï£«
ï£­
X
LPâˆˆ[m][n]: li=j
PP(LP) Â· Î»i(LP)
ï£¶
ï£¸
=
X
jâˆˆ[m]
ï£«
ï£­
X
LPâˆˆ[m][n]\{i}: li=j
p
j
i PP(LP) Â· Î»i(LP)
ï£¶
ï£¸
=
X
jâˆˆ[m]
p
j
i
ï£«
ï£­
X
LPâˆˆ[m][n]\{i}: li=j
PP(LP) Â· Î»i(LP)
ï£¶
ï£¸
=
X
jâˆˆ[m]
p
j
i
ï£«
ï£­
X
LPâˆˆ[m][n]\{i}
PP(LP) Â· Î»i(LP) |li=j
ï£¶
ï£¸
=
X
jâˆˆ[m]
p
j
i
ï£«
ï£¬ï£¬ï£­
X
LPâˆˆ[m][n]\{i}
PP(LP) Â·
ï£«
ï£¬ï£¬ï£­
X
kâˆˆ[n]:lk=j
wk
cj
ï£¶
ï£·ï£·ï£¸
ï£¶
ï£·ï£·ï£¸
=
X
jâˆˆ[m]
p
j
i
ï£«
ï£¬ï£¬ï£­
X
LPâˆˆ[m][n]\{i}
PP(LP) Â·
ï£«
ï£¬ï£¬ï£­
wi +
X
kâˆˆ[n]\{i}:lk=j
wk
cj
ï£¶
ï£·ï£·ï£¸
ï£¶
ï£·ï£·ï£¸
=
X
jâˆˆ[m]
p
j
i
ï£«
ï£¬ï£¬ï£­
wi
cj +
X
LPâˆˆ[m][n]\{i}
PP(LP) Â·
ï£«
ï£¬ï£¬ï£­
X
kâˆˆ[n]\{i}:lk=j
wk
cj
ï£¶
ï£·ï£·ï£¸
ï£¶
ï£·ï£·ï£¸.
Reorder users so that i = n. We prove by backward induction on r, 0 â‰¤r â‰¤n âˆ’1, that
Î»i(P) =
X
jâˆˆ[m]
p
j
i
ï£«
ï£¬ï£¬ï£­
wi
cj +
X
kâˆˆ[nâˆ’1]\[r]
p
j
kwk
cj
+
X
LP=âŸ¨l1,...,lrâŸ©âˆˆ[m][r]
PP(LP) Â·
ï£«
ï£¬ï£¬ï£­
X
kâˆˆ[r]:â„“k=j
wk
cj
ï£¶
ï£·ï£·ï£¸
ï£¶
ï£·ï£·ï£¸.
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
193
For the basis case, where r = n âˆ’1, P
kâˆˆ[nâˆ’1]\[r]
pj
kwk
cj
= 0; so, the claim reduces to
Î»i(P) =
X
jâˆˆ[m]
p
j
i
ï£«
ï£¬ï£¬ï£­
wi
cj +
X
LPâˆˆ[m][nâˆ’1]
PP(LP) Â·
ï£«
ï£¬ï£¬ï£­
X
kâˆˆ[nâˆ’1]:â„“k=j
wk
cj
ï£¶
ï£·ï£·ï£¸
ï£¶
ï£·ï£·ï£¸,
which has been shown. Assume the claim for r, 0 < r â‰¤n âˆ’1. and prove it for r âˆ’1. So,
X
LPâˆˆ[m][r]
PP(LP)
ï£«
ï£¬ï£¬ï£­
X
kâˆˆ[r+1]:â„“k=j
wk
cj
ï£¶
ï£·ï£·ï£¸
=
X
LPâˆˆ[m][r]:â„“r=j
PP(LP)
ï£«
ï£¬ï£¬ï£­
X
kâˆˆ[r]:â„“k=j
wk
cj
ï£¶
ï£·ï£·ï£¸+
X
LPâˆˆ[m][r]:â„“rÌ¸=j
PP(LP)
ï£«
ï£¬ï£¬ï£­
X
kâˆˆ[r]:â„“k=j
wk
cj
ï£¶
ï£·ï£·ï£¸
=
X
LPâˆˆ[m][r]:â„“r=j
PP(LP)
ï£«
ï£¬ï£¬ï£­
wr +
X
kâˆˆ[râˆ’1]:â„“k=j
wk
cj
ï£¶
ï£·ï£·ï£¸+
X
LPâˆˆ[m][r]:â„“rÌ¸=j
PP(LP)
ï£«
ï£¬ï£¬ï£­
X
kâˆˆ[râˆ’1]:â„“k=j
wk
cj
ï£¶
ï£·ï£·ï£¸
=
X
LPâˆˆ[m][râˆ’1]
PP(LP) pj
r
ï£«
ï£¬ï£¬ï£­
wr +
X
kâˆˆ[râˆ’1]:â„“k=j
wk
cj
ï£¶
ï£·ï£·ï£¸+
X
LPâˆˆ[m][râˆ’1]
PP(LP) p
j
r
ï£«
ï£¬ï£¬ï£­
X
kâˆˆ[râˆ’1]:â„“k=j
wk
cj
ï£¶
ï£·ï£·ï£¸
=
X
LPâˆˆ[m][râˆ’1]
PP(LP)
ï£«
ï£¬ï£¬ï£­
p
j
rwr
cj
+
X
kâˆˆ[râˆ’1]:â„“k=j
wk
cj
ï£¶
ï£·ï£·ï£¸
=
p
j
rwr
cj
+
X
LPâˆˆ[m][râˆ’1]
PP(LP)
ï£«
ï£¬ï£¬ï£­
X
kâˆˆ[râˆ’1]:â„“k=j
wk
cj
ï£¶
ï£·ï£·ï£¸.
Hence, by induction hypothesis, it follows that
Î»i(P) =
X
jâˆˆ[m]
p
j
i
ï£«
ï£¬ï£¬ï£­
wi
cj +
X
kâˆˆ[nâˆ’1]\[r]
p
j
kwk
cj
+
p
j
rwr
cj
+
X
LPâˆˆ[m][râˆ’1]
PP(LP)
ï£«
ï£¬ï£¬ï£­
X
kâˆˆ[râˆ’1]:â„“k=j
wk
cj
ï£¶
ï£·ï£·ï£¸
ï£¶
ï£·ï£·ï£¸
=
X
jâˆˆ[m]
p
j
i
ï£«
ï£¬ï£¬ï£­
wi
cj +
X
kâˆˆ[nâˆ’1]\[râˆ’1]
p
j
kwk
cj
+
X
LPâˆˆ[m][râˆ’1]
PP(LP)
ï£«
ï£¬ï£¬ï£­
X
kâˆˆ[râˆ’1]:â„“k=j
wk
cj
ï£¶
ï£·ï£·ï£¸
ï£¶
ï£·ï£·ï£¸,
as needed to prove the claim for r. Setting now r = 0 yields that
Î»i (P) =
X
jâˆˆ[m]
p
j
i
wi +
X
kâˆˆ[n]:kÌ¸=i
p
j
kwk
cj
.
as needed.
â– 
For each user i âˆˆ[n] and link j âˆˆ[m], define the Conditional Expected Individual Cost [26] of user i on link j as
Î»
j
i (P) =
wi + P
kâˆˆ[n]:kÌ¸=i p
j
kwk
cj
.
194
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
By Lemma 3.1, Î»i(P) = P
jâˆˆ[m] p
j
i Î»
j
i (P); thus, the definition of Nash equilibrium implies that for each link j âˆˆ[m], such that
p
j
i > 0, for each link jâ€² âˆˆ[m], either Î»
j
i = Î»
jâ€²
i , if p
jâ€²
i > 0 or Î»
j
i â‰¤Î»
jâ€²
i if p
jâ€²
i = 0. (This property was used for defining Nash
equilibria in the original work of Koutsoupias and Papadimitriou [26].)
We now consider the case of identical users, where we characterize optimal assignments.
Proposition 3.2 (Global Optimality = Local Optimality). Consider a pure assignment Q, for an instance âŸ¨w, c) in the case of
identical users. Then, Q is optimal, if and only if for every pair of distinct links j, jâ€² âˆˆ[m],
2Î´j(Q) + 1
cj
â‰¥
2Î´jâ€²(Q) âˆ’1
cjâ€²
.
Proof. Assume first that Q is optimal, so that QSC(w, c, Q) = QOPT(w, c). Consider any pair of distinct links j, jâ€² âˆˆ[m], and
use Q to construct a new pure assignment Qâ€², by switching any single user from link jâ€² to link j. Then, clearly,
QSC(w, c, Qâ€²) âˆ’QSC(w, c, Q) = (Î´j(Q) + 1)2
cj
+ (Î´jâ€²(Q) âˆ’1)2
cjâ€²
âˆ’(Î´j(Q))2
cj
âˆ’(Î´jâ€²(Q))2
cjâ€²
=
2Î´j(Q) + 1
cj
âˆ’
2Î´jâ€²(Q) âˆ’1
cjâ€²
.
Since Q is optimal, QSC(w, c, Qâ€²) â‰¥QSC(w, c, Q), so that
2Î´j(Q) + 1
cj
â‰¥
2Î´jâ€²(Q) âˆ’1
cjâ€²
,
as needed.
Assume now that for every pair of links j, jâ€² âˆˆ[m],
2Î´j(Q) + 1
cj
â‰¥
2Î´jâ€²(Q) âˆ’1
cjâ€²
.
We will prove that Q, is an optimal assignment for the instance âŸ¨w, câŸ©. To do so, we will consider an optimal assignment
R for the same instance, and we will prove that QSC(w, c, Q) = QSC(w, c, R). If Î´â„“(Q) = Î´â„“(R) for all links â„“âˆˆ[m], then
QSC(w, c, Q) = QSC(w, c, R), and the optimality of Q follows. So assume otherwise. Since P
â„“âˆˆ[m] Î´â„“(Q) = P
â„“âˆˆ[m] Î´â„“(R) =
n, it follows that there exist distinct links j, jâ€² âˆˆ[m] such that Î´j(R) > Î´j(Q) and Î´jâ€²(Q) > Î´jâ€²(R); that is, link j is assigned
more traffic in R than in Q, while link jâ€² is assigned more traffic in Q than in R. Since loads are integral in the case of identical
users, it follows that Î´j(R) âˆ’Î´j(Q) â‰¥1 and Î´jâ€²(Q) âˆ’Î´jâ€²(R) â‰¥1.
Since R is optimal, it holds for links jâ€², j âˆˆ[m] that
2Î´jâ€²(R) + 1
cjâ€²
â‰¥
2Î´j(R) âˆ’1
cj
.
On the other hand, our assumption on Q, implies that
2Î´j(Q) + 1
cj
â‰¥
2Î´jâ€²(Q) âˆ’1
cjâ€²
.
It follows that
2Î´jâ€²(R) + 1
cjâ€²
â‰¥
2Î´j(R) âˆ’1
cj
â‰¥
2Î´j(Q) + 1
cj
(since Î´j(R) â‰¥Î´j(Q) + 1)
â‰¥
2Î´jâ€²(Q) âˆ’1
cjâ€²
â‰¥
2Î´jâ€²(R) + 1
cjâ€²
(since Î´jâ€²(Q) â‰¥Î´jâ€²(R) + 1).
It follows that all terms in this sequence of inequalities are equal. In particular,
2Î´j(R) âˆ’1
cj
=
2Î´j(Q) + 1
cj
,
or Î´j(R) = Î´j(Q) + 1; also,
2Î´jâ€²(Q) âˆ’1
cjâ€²
=
2Î´jâ€²(R) + 1
cjâ€²
,
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
195
or Î´jâ€²(Q) = Î´jâ€²(R) + 1. Thus, the difference of the loads on each of the links j, jâ€² âˆˆ[m] is exactly 1 (in absolute value) in both
Q or R. Since P
lâˆˆ[m] Î´l(Q) = P
lâˆˆ[m] Î´l(R), this implies that the number of links j âˆˆ[m], such that Î´j(R) > Î´j(Q) and the
number of links jâ€² âˆˆ[m] such that Î´jâ€²(Q) > Î´jâ€²(R) are equal. It also follows from the preceding sequence of inequalities that
2Î´jâ€²(R) + 1
cjâ€²
=
2Î´j(Q) + 1
cj
,
which implies that
(Î´j(Q))2
cj
+ (Î´jâ€²(R) + 1)2
cjâ€²
= (Î´jâ€²(R))2
cjâ€²
+ (Î´j(Q) + 1)2
cj
.
Since Î´j(R) = Î´j(Q) + 1 and Î´jâ€²(Q) = Î´jâ€²(R) + 1, it follows that
(Î´j(Q))2
cj
+ (Î´jâ€²(Q))2
cjâ€²
= (Î´jâ€²(R))2
cjâ€²
+ (Î´j(R))2
cj
.
Thus, links j, jâ€² âˆˆ[m] have the same contribution to the Quadratic Social Cost in both Q and R. Since the number of links
j âˆˆ[m], such that Î´j(R) > Î´j(Q) and the number of links jâ€² âˆˆ[m], such that Î´jâ€²(Q) > Î´jâ€²(R) are equal, the total contribution
to the Quadratic Social Cost of links j âˆˆ[m] such that Î´j(R) > Î´j(Q), is equal to the total contribution to the Quadratic
Social Cost of links jâ€² âˆˆ[m] such that Î´jâ€²(Q) > Î´jâ€²(R). It follows that QSC(w, c, Q) = QSC(w, c, R), so that Q is optimal, as
needed.
â– 
Proposition 3.2 establishes that the (global) optimality of a pure assignment is equivalent to a collection of Î˜(m2) local
conditions â€“ one for each pair of distinct links, and each checkable in time Î˜(1), given the link loads. Hence, an immediate
consequence of Proposition 3.2 follows.
Corollary 3.3. Consider the case of identical users. Then, the optimality of a pure assignment can be decided in time O(n + m2).
We continue to prove a relation between pure Nash equilibria, and optimal (pure) assignments, in the case of identical
users.
Lemma 3.4 (Optimal Assignment versus Nash Equilibrium). Consider an optimal assignment Q, and a pure Nash equilibrium P
for an instance âŸ¨w, câŸ©in the case of identical users. Then, for each link j âˆˆ[m], Î´j(Q) âˆ’Î´j(P) â‰¤1.
Proof. Assume, by way of contradiction, that there is some link j âˆˆ[m] such that Î´j(Q) âˆ’Î´j(P) â‰¥2. Since P
lâˆˆ[m] Î´l(Q) =
P
lâˆˆ[m] Î´l(P), there also exists some link jâ€² âˆˆ[m], such that Î´jâ€²(Q) âˆ’Î´jâ€²(P) â‰¤âˆ’1. Since Q is optimal, Proposition 3.2 implies
that
2Î´j(Q) âˆ’1
cj
â‰¤
2Î´jâ€²(Q) + 1
cjâ€²
â‰¤
2(Î´jâ€²(P) âˆ’1) + 1
cjâ€²
(since Î´jâ€²(Q) â‰¤Î´jâ€²(P) âˆ’1)
=
2Î´jâ€²(P) âˆ’1
cjâ€²
â‰¤2 Î´j(P) + 1
cj
âˆ’
1
cjâ€² (since P is a Nash equilibrium)
â‰¤2 Î´j(Q) âˆ’2 + 1
cj
âˆ’
1
cjâ€² (since Î´j(P) â‰¤Î´j(Q) âˆ’2)
=
2Î´j(Q) âˆ’1
cj
âˆ’
1
cj âˆ’
1
cjâ€² .
It follows that 1
cj +
1
cjâ€² â‰¤0. A contradiction.
â– 
We now consider an instance âŸ¨w, câŸ©, for the case of identical links. Call user i âˆˆ[n] bursty if wi >
W
m . Intuitively, the
traffic of a bursty user exceeds the fair share of traffic for a link. We prove a simple property of bursty users:
Lemma 3.5 (Bursty Users are Solo). Consider any instance in the case of identical links. Then, a bursty user is solo in either an
optimal assignment, or a pure Nash equilibrium.
Proof. Fix an instance âŸ¨w, câŸ©and a bursty user i âˆˆ[n].
196
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
Consider first an optimal assignment Q = âŸ¨q1, . . . , qnâŸ©. Note that Î´qi(Q) â‰¥wi. Since i is a bursty user, it follows that
Î´qi(Q) > W
m ; Since P
lâˆˆ[m] Î´l(Q) = W, there is some other link j âˆˆ[m] with j Ì¸= qi, such that Î´j(Q) < W
m . Assume, by way of
contradiction, that some user k Ì¸= i is assigned to link qi. Modify Q to obtain Qâ€² by switching user k to link j. Then,
QSC(w, c, Qâ€²) âˆ’QSC(w, c, Q) =
 Î´qi(Qâ€²)
2 +
 Î´j(Qâ€²)
2 âˆ’
 Î´qi(Q)
2 âˆ’
 Î´j(Q)
2
= w2
i +
 Î´j(Q) + wk
2 âˆ’(wi + wk)2 âˆ’
 Î´j(Q)
2
= 2wk
 Î´j(Q) âˆ’wi

.
Since Î´j(Q) <
W
m and wi >
W
m , it follows that Î´j(Q) âˆ’wi < 0, so that QSC(w, c, Qâ€²) < QSC(w, c, Q). Since Q is optimal,
QSC(w, c, Qâ€²) â‰¥QSC(w, c, Q). A contradiction.
Consider now a pure Nash equilibrium P = âŸ¨â„“1, . . . , â„“nâŸ©. Note that Î´â„“i(P) â‰¥wi >
W
m . Since P
lâˆˆ[m] Î´l(P) = W, there
is some other link j âˆˆ[m], with j Ì¸= â„“i, such that Î´j(P) <
W
m . Assume, by way of contradiction, that some user k Ì¸= i is
assigned to link â„“i. Then, Î»k(P) â‰¥wi + wk >
W
m + wk. However, if user k switches to link j, its Individual Cost becomes
Î´j(P) + wk < W
m + wk. Since P is a Nash equilibrium, Î´j(P) + wk â‰¥Î»k(P) > W
m + wk. A contradiction.
â– 
Say that an instance âŸ¨w, câŸ©is bursty, if some user i âˆˆ[n] is bursty; otherwise, the instance is non-bursty. We start with a
very simple observation about pure Nash equilibria associated with non-bursty instances, in the case of identical links.
Lemma 3.6 (Non-Zero Loads in Nash Equilibrium for NonBursty Instance). Consider a pure Nash equilibrium P, for a non-bursty
instance âŸ¨w, câŸ©in the case of identical links. Then, for each link j âˆˆ[m], Î´j(P) > 0.
Proof. Assume, by way of contradiction, that there is a link j âˆˆ[m] with Î´j(P) = 0. This implies that there is also some
link jâ€² âˆˆ[m] with Î´jâ€²(P) â‰¥
W
mâˆ’1 >
W
m . Consider any user i âˆˆ[n], assigned to link jâ€². Then, Î»i(P) = Î´jâ€²(P) >
W
m , while
Î»
j
i(P) = wi â‰¤W
m (since no user is bursty). This contradicts the assumption that P is a Nash equilibrium.
â– 
We continue with another preliminary property of pure Nash equilibria, associated with non-bursty instances, in the
case of identical links; roughly speaking, we prove that link loads are balanced in a pure Nash equilibrium, for a non-bursty
instance.
Lemma 3.7 (Balanced Loads in Nash Equilibrium for NonBursty Instance). Consider a pure Nash equilibrium P for a non-bursty
instance âŸ¨w, câŸ©in the case of identical links. Then, for each link j âˆˆ[m], Î´j(P) â‰¤2 minlâˆˆ[m] Î´l(P).
Proof. Assume, by way of contradiction, that there is some link j âˆˆ[m] such that Î´j(P) > 2 minlâˆˆ[m] Î´l(P). Choose link j so
that it maximizes Î´l(P), over all links l âˆˆ[m].
Clearly, Î´j(P) â‰¥W
m . Moreover, if Î´j(P) = W
m , then Î´l(P) = W
m for all links l âˆˆ[m] and the claim follows. So, assume that
Î´j(P) > W
m . We proceed by case analysis.
â€¢ Assume first that there is a single solo user i âˆˆ[n] on link j, so that Î´j(P) = wi. Since link j maximizes latency, wi â‰¥Î´l(P)
for all links l âˆˆ[m]. Moreover, our assumption implies that wi > minlâˆˆ[m] Î´l(P). It follows that mwi > P
lâˆˆ[m] Î´l(P) = W,
or wi > W
m . Since âŸ¨w, câŸ©is a non-bursty instance, wi â‰¤W
m . A contradiction.
â€¢ Assume now that at least two users are assigned to link j. Consider the smallest traffic wi of some user i âˆˆ[n] among
all users assigned to link j. Then, clearly, wi â‰¤
Î´j(P)
2 . Hence, Î´j(P) âˆ’wi â‰¥
Î´j(P)
2
> minlâˆˆ[m] Î´l(P) (by assumption). So,
minlâˆˆ[m] Î´l(P) + wi < Î´j(P). Since P is a Nash equilibrium, minlâˆˆ[m] Î´l(P) + wi â‰¥Î´j(P). A contradiction.
Since we obtained a contradiction in all possible cases, the proof is now complete.
â– 
4. Quadratic social cost
Some combinatorial expressions for the Quadratic Social Cost, and corresponding efficient algorithms, are presented in
Section 4.1. Section 4.2, determines the worst-case Nash equilibrium with respect to the Quadratic Social Cost.
4.1. Combinatorial expressions
Recall that the Quadratic Social Cost can be expressed as the weighted sum of Expected Individual Costs. Hence,
Lemma 3.1 implies that the Quadratic Social Cost of any mixed assignment P, for the instance âŸ¨w, câŸ©can be written as
QSC(w, c, P) =
X
iâˆˆ[n]
wi
 X
jâˆˆ[m]
p
j
i
p
j
i wi + Î¸ j(P)
cj
!
,
which immediately implies:
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
197
Proposition 4.1 (Quadratic Social Cost of Mixed Assignment). The Quadratic Social Cost of any mixed assignment can be
computed in time O(nm).
Since a probability matrix P has size O(nm), Proposition 4.1 implies that the Quadratic Social Cost of any mixed
assignment can be computed in linear time. We remark that this achieved efficiency has not needed the assumption that
the mixed assignment is a Nash equilibrium. We next establish that the Quadratic Social Cost takes a particularly nice form,
for the case of the fully mixed Nash equilibrium. We prove:
Theorem 4.2 (Quadratic Social Cost of Fully Mixed Nash Equilibrium). Consider an instance âŸ¨w, câŸ©in the case of identical links.
Then,
QSC(w, c, F) = W1 +
2
m
W2 =
W 2
m +

1 âˆ’
1
m

W2.
Proof. Since W 2 = W1+2W2, it suffices to prove the first equality. Recall that f
j
i =
1
m for all users i âˆˆ[n] and links j âˆˆ[m] in
the fully mixed Nash equilibrium F. Thus, by Lemma 3.1, Î»i(F) = P
â„“âˆˆ[m]
1
m

wi + P
kâˆˆ[n]:kÌ¸=i
1
m wk

= wi +P
kâˆˆ[n]:kÌ¸=i
1
m wk.
Since QSC(w, c, F) = P
iâˆˆ[n] wiÎ»i(F), the claim follows from the definitions of W1 and W2.
â– 
Theorem 4.2 immediately implies:
Corollary 4.3. Consider the case of identical links. Then, the Quadratic Social Cost of the fully mixed Nash Equilibrium can be
computed in time O(n2).
We continue to prove:
Theorem 4.4. Consider an instance âŸ¨w, câŸ©, in the case of identical users, for which the fully mixed Nash equilibrium F exists. Then,
QSC(w, c, F) =
n (n + m âˆ’1)
C
.
Proof. Recall that in the case of identical users, for all users i âˆˆ[n] and each link j âˆˆ[m], f
j
i
=
m+nâˆ’1
(nâˆ’1)C cj âˆ’
1
nâˆ’1.
Hence, by Lemma 3.1, Î»i(F) = P
jâˆˆ[m]

f
j
i
1+P
kâˆˆ[n]:kÌ¸=i f j
k
cj

= P
jâˆˆ[m]

f
j
i
1+(nâˆ’1)f j
i
cj

= P
jâˆˆ[m]

f
j
i
m+nâˆ’1
C

=
m+nâˆ’1
C
. Since
QSC(w, c, F) = P
iâˆˆ[n] Î»i(F), the claim follows.
â– 
Theorem 4.4 immediately implies:
Corollary 4.5. Consider the case of identical users. Then, the Quadratic Social Cost of the fully mixed Nash Equilibrium can be
computed in time O(m).
For the special case of identical users and identical links, Theorem 4.4 immediately implies:
Corollary 4.6. Consider the case of identical users and identical links. Then,
QSC(w, c, F) =
n (n + m âˆ’1)
m
.
4.2. The worst-case Nash equilibrium
We restrict our attention to the case of identical users, and identical links, for which the fully mixed Nash equilibrium
always exists. We start by proving:
Lemma 4.7. Consider the case of identical users, and identical links, and let P be any (mixed) Nash equilibrium. Then, for all users
i âˆˆ[n], Î»i(P) â‰¤Î»i(F).
Proof. Assume, by way of contradiction, that Î»i(P) > Î»i(F), for some user i âˆˆ[n].
For the Nash equilibrium P, recall that all Conditional Expected Individual Costs Î»
j
i for those links such that p
j
i > 0 are
equal; hence, Lemma 3.1 implies that Î»i(P) = Î»
j
i(P) = 1+P
kâˆˆ[n]:kÌ¸=i p
j
k. Moreover, all Conditional Expected Individual Costs
for those links j âˆˆ[m], such that p
j
i = 0 are no less than Î»i(P). For the fully mixed Nash equilibrium F, the same argument
implies that Î»i(F) = Î»
j
i(F) for any link j âˆˆ[m].
By Lemma 3.1, Î»
j
i(P) = 1 + P
kâˆˆ[n]:kÌ¸=i p
j
k and Î»
j
i(F) = 1 + P
kâˆˆ[n]:kÌ¸=i f
j
k. Since Î»i(P) > Î»i(F), P
kâˆˆ[n]:kÌ¸=i p
j
k > P
kâˆˆ[n]:kÌ¸=i f
j
k.
But P
â„“âˆˆ[m]
P
kâˆˆ[n]:kÌ¸=i pâ„“
k

= P
â„“âˆˆ[m]
P
kâˆˆ[n]:kÌ¸=i f â„“
k

= n âˆ’1. It follows that there exists some link jâ€² âˆˆ[m] such that
P
kâˆˆ[n]:kÌ¸=i p
jâ€²
k < P
kâˆˆ[n]:kÌ¸=i p
jâ€²
k. By definition of Conditional Expected Individual Cost, this implies that Î»
jâ€²
i (P) < Î»
jâ€²
i (F).
However, Î»i(P) â‰¤Î»
jâ€²
i (P), while Î»i(F) = Î»
jâ€²
i (F). It follows that Î»i(P) < Î»i(F). A contradiction.
â– 
198
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
Since the Quadratic Social Cost is a weighted sum of Expected Individual Costs, Lemma 4.7 immediately implies:
Theorem 4.8. Consider the case of identical users and identical links. Then, for any arbitrary Nash equilibrium P, QSC(w, c, P) â‰¤
QSC(w, c, F).
Theorem 4.8 proves that the fully mixed Nash equilibrium maximizes Quadratic Social Cost in the case of identical users
and identical links. It is natural to ask if the same holds in all cases. In analogy to the yet unproven Fully Mixed Nash Equilibrium
Conjecture [23], we conjecture:
Conjecture 4.1 (Quadratic Fully Mixed Nash Equilibrium Conjecture). When it exists, the fully mixed Nash equilibrium maxi-
mizes Quadratic Social Cost.
5. Quadratic coordination ratio
Some of our proofs in this section will make use of the following notation. Consider an instance âŸ¨w, câŸ©with an associated
pure assignment P. Fix a set of links L, inducing a set of users U that are assigned by the assignment P to links in L. Then,
w \ U and c \ L, denote the vectors resulting from w and c, respectively, by eliminating the entries corresponding to users
in U, and links in L, respectively; P \ (U, L) denotes the assignment induced by these eliminations. Pure and mixed Nash
equilibria are considered in Sections 5.1 and 5.2.
5.1. Pure Nash equilibria
Identical users and identical links are considered in Sections 5.1.1 and 5.1.2, respectively.
5.1.1. Identical users
As our main result, we prove:
Theorem 5.1. Consider the case of identical users, restricted to pure Nash equilibria. Then, QCR = 4
3.
Proof. We first prove the upper bound. We start with an informal outline of our proof. We shall partition the set of links
into a number of groups, so that in each group, the total loads on links of the group incurred by a Nash equilibrium, and an
optimal assignment match each other. We then separately sum up the loads on links that are loaded more (resp., less)
in the Nash equilibrium, than in the optimal assignment. We use simple properties of Nash equilibria to compare the
corresponding partial sums of the Nash equilibria, and the optimal assignment. Adding together these two partial sums
provides the required relation between the Quadratic Social Costs of the Nash equilibrium and the optimal assignment. We
now continue with the details of the formal proof.
Consider any arbitrary instance âŸ¨w, câŸ©, and an associated pure Nash equilibrium P. Let Q be an optimal (pure) assignment
for the instance âŸ¨w, câŸ©; so, QSC(w, c, Q) = QOPT(w, c).
Call a link j âˆˆ[m] overloaded if Î´j(P) > Î´j(Q), underloaded if Î´j(P) < Î´j(Q) and indifferent otherwise. Lemma 3.4 implies
that Î´j(P) = Î´j(Q) âˆ’1, is the only possibility for an underloaded link j. Note also that Î´j(Q) â‰¥1, for each underloaded link
j. Let j1, . . . , jk be the overloaded links. Partition the set of links [m] into k + 1 groups I, L1, . . . , Lk as follows:
â€¢ I = {j âˆˆ[m] | Î´j(P) = Î´j(Q)} is the set of indifferent links. So, clearly, P
jâˆˆI Î´j(P) = P
jâˆˆI Î´j(Q).
â€¢ For each l âˆˆ[k], the set Ll contains the overloaded link jl andÎ´jl(P)âˆ’Î´jl(Q) underloaded links. So,|Ll| = Î´jl(P)âˆ’Î´jl(Q)+1.
Such a partition is possible due to Lemma 3.4. Note that for each l âˆˆ[k],
X
jâˆˆLl
Î´j(P) = Î´jl(P) +
X
jâˆˆLl\{jl}
Î´j(P)
= Î´jl(P) +
X
jâˆˆLl\{jl}
(Î´j(Q) âˆ’1)
= Î´jl(P) +
X
jâˆˆLl\{jl}
Î´j(Q) âˆ’(|Ll| âˆ’1)
= Î´jl(P) +
X
jâˆˆLl\{jl}
Î´j(Q) âˆ’(Î´jl(P) âˆ’Î´jl(Q))
=
X
jâˆˆLl
Î´j(Q).
We proceed to analyze the Quadratic Social Costs of P and Q.
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
199
â€¢ By definition of I, it follows that
X
jâˆˆI
(Î´j(P))2
cj
=
X
jâˆˆI
(Î´j(Q))2
cj
.
â€¢ For each overloaded link jl, l âˆˆ[k], our construction implies that Î´jl(P) = Î´jl(Q) + |Ll| âˆ’1. So,
X
lâˆˆ[k]
(Î´jl(P))2
cjl
=
X
lâˆˆ[k]
(Î´jl(Q))2 + 2 (|Ll| âˆ’1)Î´jl(Q) + (|Ll| âˆ’1)2
cjl
.
â€¢ For each underloaded link j âˆˆS
lâˆˆ[k] (Ll \ {jl}), Î´j(P) = Î´j(Q) âˆ’1. So,
X
lâˆˆ[k]
X
jâˆˆLl\{jl}
(Î´j(P))2
cj
=
X
lâˆˆ[k]
X
jâˆˆLl\{jl}
(Î´j(Q))2 âˆ’2Î´j(Q) + 1
cj
â‰¤
X
lâˆˆ[k]
X
jâˆˆLl\{jl}
(Î´j(Q))2 âˆ’Î´j(Q)
cj
.
Summing up we obtain that
X
jâˆˆI
(Î´j(P))2
cj
+
X
lâˆˆ[k]
(Î´jl(P))2
cjl
+
X
lâˆˆ[k]
X
jâˆˆLl\{jl}
(Î´j(P))2
cj
â‰¤
X
jâˆˆI
(Î´j(Q))2
cj
+
X
lâˆˆ[k]
(Î´jl(Q))2 + 2 (|Ll| âˆ’1)Î´jl(Q) + (|Ll| âˆ’1)2
cjl
+
X
lâˆˆ[k]
X
jâˆˆLl\{jl}
(Î´j(Q))2 âˆ’Î´j(Q)
cj
=
X
jâˆˆI
(Î´j(Q))2
cj
+
X
lâˆˆ[k]
(Î´jl(Q))2
cjl
+
X
lâˆˆ[k]
X
jâˆˆLl\{jl}
(Î´j(Q))2
cj
+
X
lâˆˆ[k]
2 (|Ll| âˆ’1)Î´jl(Q) + (|Ll| âˆ’1)2
cjl
âˆ’
X
lâˆˆ[k]
X
jâˆˆLl\{jl}
Î´j(Q)
cj
or
QSC(w, c, P) â‰¤QSC(w, c, Q) +
X
lâˆˆ[k]
2 (|Ll| âˆ’1)Î´jl(Q) + (|Ll| âˆ’1)2
cjl
âˆ’
X
lâˆˆ[k]
X
jâˆˆLl\{jl}
Î´j(Q)
cj
= QSC(w, c, Q) +
X
lâˆˆ[k]
(|Ll| âˆ’1)Î´jl(Q)
cjl
+
X
lâˆˆ[k]
(|Ll| âˆ’1)(Î´jl(Q) + |Ll| âˆ’1)
cjl
âˆ’
X
lâˆˆ[k]
X
jâˆˆLl\{jl}
Î´j(Q)
cj
= QSC(w, c, Q) +
X
lâˆˆ[k]
(|Ll| âˆ’1)Î´jl(Q)
cjl
+
X
lâˆˆ[k]
X
jâˆˆLl\{jl}
Î´jl(Q) + |Ll| âˆ’1
cjl
âˆ’
X
lâˆˆ[k]
X
jâˆˆLl\{jl}
Î´j(Q)
cj
= QSC(w, c, Q) +
X
lâˆˆ[k]
(|Ll| âˆ’1)Î´jl(Q)
cjl
+
X
lâˆˆ[k]
X
jâˆˆLl\{jl}
Î´jl(Q) + |Ll| âˆ’1
cjl
âˆ’Î´j(Q)
cj

= QSC(w, c, Q) +
X
lâˆˆ[k]
(|Ll| âˆ’1)Î´jl(Q)
cjl
+
X
lâˆˆ[k]
X
jâˆˆLl\{jl}
Î´jl(P)
cjl
âˆ’Î´j(Q)
cj

.
We will analyze separately each sum in the last right expression.
â€¢ Recall that for every x, y âˆˆR, xy â‰¤1
4 (x + y)2. So, for every overloaded link jl, (|Ll| âˆ’1)Î´jl(Q) â‰¤1
4 (Î´jl(Q) + |Ll| âˆ’1)2 =
(Î´jl(P))2. Summing up over all overloaded links yields that
X
lâˆˆ[k]
(|Ll| âˆ’1)Î´jl(Q)
cjl
â‰¤
1
4
X
lâˆˆ[k]
(Î´jl(P))2
cjl
â‰¤
1
4
QSC(w, c, P).
â€¢ Consider any pair of an overloaded link jl, and an undeloaded link j âˆˆLl \ {jl}. Recall that Î´j(Q) = Î´j(P) + 1. Hence, since
P is a Nash equilibrium, Î´jl(P)
cjl
â‰¤Î´j(P)+1
cj
= Î´j(Q)
cj . This implies that the second sum is non-positive.
200
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
Hence, it follows that QSC(w, c, P) â‰¤QSC(w, c, Q) + 1
4 QSC(w, c, P), or QSC(w,c,P)
QOPT(w,c) â‰¤4
3. Since the instance âŸ¨w, câŸ©, and the
associated pure Nash equilibrium P were chosen arbitrarily, this implies that QCR â‰¤4
3, and the proof of the upper bound is
complete.
We continue to prove the lower bound. Fix an instance âŸ¨w, câŸ©, with n = 2(mâˆ’1); for each link l âˆˆ[m], set cl = 2(mâˆ’1)
if l = 1 and 1 otherwise. Consider pure assignments P and Q, such that:
â€¢ In P, all users are assigned to link 1. Note that for each user i âˆˆ[2(m âˆ’1)] Î»1
i = 2(mâˆ’1)
2(mâˆ’1) = 1 and for each link l âˆˆ[m],
l Ì¸= 1, Î»l
i = 1; so, P is a Nash equilibrium. Clearly, QSC(w, c, P) = (2(mâˆ’1))2
2(mâˆ’1)
= 2(m âˆ’1).
â€¢ In Q, m âˆ’1 users are assigned to link 1 and each of the rest is assigned to each link 2, . . . , m, respectively. Clearly,
QSC(w, c, Q) = (mâˆ’1)2
2(mâˆ’1) + (m âˆ’1) 12
1 = 3
2 (m âˆ’1).
So, QCR â‰¥QSC(w,c,P)
QOPT(w,c) â‰¥QSC(w,c,P)
QSC(w,c,Q) = 4
3, as needed.
â– 
5.1.2. Identical links
We prove:
Theorem 5.2. Consider the case of identical links, restricted to pure Nash equilibria. Then, QCR = 9
8.
Proof. We first prove the upper bound. Consider any arbitrary instance âŸ¨w, câŸ©, with associated pure Nash equilibrium P and
optimal assignment Q. We consider two cases:
(1) The instance âŸ¨w, câŸ©is non-bursty. Recall that in this case, by Lemma 3.7, for each link j âˆˆ[m], Î´j(P) â‰¤2 minlâˆˆ[m] Î´l(P). So
transform the set of loads

Î´l(P) | l âˆˆ[m]
	
, into a new set of loads
bÎ´l(P) | l âˆˆ[m]
	
as the output of the following repetitive
procedure:
for each link l âˆˆ[m], do
bÎ´l(P) := Î´l(P);
while there are distinct j, jâ€² âˆˆ[m] with min
lâˆˆ[m] Î´l(P) <bÎ´j(P) â‰¤bÎ´jâ€²(P) < 2 min
lâˆˆ[m] Î´l(P) do
bÎ´j(P) :=bÎ´j(P) âˆ’min

bÎ´j(P) âˆ’min
lâˆˆ[m] Î´l(P), 2 min
lâˆˆ[m] Î´l(P) âˆ’bÎ´jâ€²(P)

;
bÎ´jâ€²(P) :=bÎ´jâ€²(P) + min

bÎ´j(P) âˆ’min
lâˆˆ[m] Î´l(P), 2 min
lâˆˆ[m] Î´l(P) âˆ’bÎ´jâ€²(P)

end while
Intuitively, our transformation procedure chooses at each step, two intermediate loads Î´j(P) and Î´jâ€²(P) (that is, two loads
that are not yet pushed either to the upper end or to the lower end of the interval of link loads); it transfers the (strictly)
positive quantity min
n
bÎ´j(P) âˆ’minlâˆˆ[m] Î´l(P), 2 minlâˆˆ[m] Î´l(P) âˆ’bÎ´jâ€²(P)
o
, from the small load Î´j(P), to the large load Î´jâ€²(P).
Clearly, each step of the procedure either pushes the small load Î´j(P), to the lower end minlâˆˆ[m] Î´l(P) of the interval of link
loads, or pushes the large load Î´jâ€²(P), to the upper end 2 minlâˆˆ[m] Î´l(P) of the interval of link loads (or both). So, when the
procedure terminates, there is at most one intermediate load. Hence, by reordering links, we obtain that there exists an
integerbj, 0 â‰¤bj â‰¤m âˆ’1, such that for each link j âˆˆ[m],
bÎ´j(P) =
ï£±
ï£´ï£´ï£²
ï£´ï£´ï£³
2 min
lâˆˆ[m] Î´l(P),
j âˆˆ[bj]
(1 + x) min
lâˆˆ[m] Î´l(P),
j =bj + 1
min
lâˆˆ[m] Î´l(P),
j âˆˆ[m] \ [bj + 1]
where 0 â‰¤x â‰¤1. Intuitively,bj is the number of overloaded links.
Note that this procedure maps a set of loads to a new set of loads, without explicitly mapping an instance to a new
instance. However, for the sake of analysis, we will also consider that the procedure maps an instance âŸ¨w, câŸ©, and a Nash
equilibrium P to a new instance âŸ¨b
w,bcâŸ©and a new Nash equilibrium bP. Note also that the procedure preserves (at each
step) the sum of loads. So, it also preserves the total traffic, so that W = b
W. For any single step transforming the load set

Î´l(P) | l âˆˆ[m]
	
into
bÎ´l(P) | l âˆˆ[m]
	
,
QSC(b
w,bc,bP) âˆ’QSC(w, c, P)
=

bÎ´j(P) âˆ’min

bÎ´j(P) âˆ’min
lâˆˆ[m] Î´l(P), 2 min
lâˆˆ[m] Î´l(P) âˆ’bÎ´jâ€²(P)
2
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
201
+

bÎ´jâ€²(P) + min

bÎ´j(P) âˆ’min
lâˆˆ[m] Î´l(P), 2 min
lâˆˆ[m] Î´l(P) âˆ’bÎ´jâ€²(P)
2
âˆ’
 bÎ´j(P)
2 âˆ’

bÎ´jâ€²(P)
2
= 2 min

bÎ´j(P) âˆ’min
lâˆˆ[m] Î´l(P), 2 min
lâˆˆ[m] Î´l(P) âˆ’bÎ´jâ€²(P)

Â·

bÎ´jâ€²(P) âˆ’bÎ´j(P)

+ 2

min

bÎ´j(P) âˆ’min
lâˆˆ[m] Î´l(P), 2 min
lâˆˆ[m] Î´l(P) âˆ’bÎ´jâ€²(P)
2
> 0.
Hence,
QSC(w, c, P) â‰¤QSC(b
w,bc,bP)
=
 4bj + (1 + x)2 + (m âˆ’bj âˆ’1)

Â·

min

bÎ´j(P) âˆ’min
lâˆˆ[m] Î´l(P), 2 min
lâˆˆ[m] Î´l(P) âˆ’bÎ´jâ€²(P)
2
=
 x2 + 2x + m + 3bj

Â·

min

bÎ´j(P) âˆ’min
lâˆˆ[m] Î´l(P), 2 min
lâˆˆ[m] Î´l(P) âˆ’bÎ´jâ€²(P)
2
.
On the other hand,
QOPT(w, c) â‰¥
W 2
m
=
b
W 2
m
=
 X
jâˆˆ[m]
bÎ´j(P)
!2
m
=
 2bj + (1 + x) + (m âˆ’bj âˆ’1)
2
m
Â·

min

bÎ´j(P) âˆ’min
lâˆˆ[m] Î´l(P), 2 min
lâˆˆ[m] Î´l(P) âˆ’bÎ´jâ€²(P)
2
=
 x + m +bj
2
m
Â·

min

bÎ´j(P) âˆ’min
lâˆˆ[m] Î´l(P), 2 min
lâˆˆ[m] Î´l(P) âˆ’bÎ´jâ€²(P)
2
.
It follows that
QCR â‰¤(x2 + 2x + m + 3bj) m
(x + m +bj)2
.
Define the real function
f (k) = (x2 + 2x + m + 3bj)m
(x + m +bj)2
of a real variablebj. (The quantity x is taken as a parameter, while m is a fixed constant.) Clearly, QCR â‰¤supbj f (bj). So, we will
determine supbj f (bj).
To gain some intuition, write
f (bj) =

m
bj
2
+ 3 m
bj + m(x2+2x)
bj2

m
bj + 1 + x
bj
2
=
y(y + 3) + m(x2+2x)
bj2

y + 1 + x
bj
2
,
where y =
m
bj is the ratio of the total number of links to the number of overlaodad linksbj. Since we are interested in the
ratio m
bj and x âˆˆ[0, 1], we can assume thatbj is so large that x
bj is negligibe. Then, f (bj) essentially behaves as the function
g(y) = y(y+3)
(y+1)2 , which is maximized for y = 3, achieving the value 9
8. We now return to the formal proof.
202
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
To maximize the function f (bj), observe that the first and second derivatives of f (bj) are
df (bj)
dbj
=
m
(x + m +bj)3 Â·
 âˆ’2x2 âˆ’x + m âˆ’3bj

and
d2f (bj)
dbj2
= m Â·
 
âˆ’3(x + m +bj)3 âˆ’(âˆ’2x2 âˆ’x + m âˆ’3bj) Â· 3(x + m +bj)2
(x + m +bj)6
!
,
respectively. The only root of df (bj)
dbj
isbj0 = mâˆ’xâˆ’2x2
3
. Forbj =bj0, d2f (bj)
dbj2
evaluates to
âˆ’81m
8(x+2mâˆ’x2)3 < 0. Thus,bj0 is a local maximum
of the function f (bj). Since f (bj) is a continuous function with a single extremum point that is a local maximum, it follows that
f (bj) â‰¤f (bj0) =
9m
4(2m+xâˆ’x2) â‰¤9
8 (since x âˆˆ[0, 1]), as needed.
(2) The instance âŸ¨w, câŸ©is bursty. Denote U the (non-empty) set of bursty users. Recall that, by Lemma 3.5, U induces sets
of solo links LP, and LQ for the Nash equilibrium P and the optimal assignment Q, respectively, so that |LP| = |U| and
|LQ| = |U|. Since links are identical, we assume that LP = LQ = L, with |L| â‰¥1. So,
QSC(w, c, P) =
X
lâˆˆL
 Î´l(P)
2 + QSC(w \ U, c \ L, P \ (U, L))
=
X
iâˆˆU
w2
i + QSC(w \ U, c \ L, P \ (U, L))
and
QOPT(w, c) = QSC(w, c, Q)
=
X
lâˆˆL
 Î´l(P)
2 + QSC(w \ U, c \ L, Q \ (U, L))
=
X
iâˆˆU
w2
i + QSC(w \ U, c \ L, Q \ (U, L)).
Note first that the assignment P \ (U, L), is a Nash equilibrium for the instance âŸ¨w \ U, c \ LâŸ©. Moreover, since Q is an
optimal assignment for the instance âŸ¨w, câŸ©, it follows that Q\(U, L) is an optimal assignment for the instance âŸ¨w\U, c\LâŸ©,
so that QSC(w \ U, c \ L, Q \ (U, L)) = QOPT (w \ U, c \ L). Thus,
QOPT(w, c) =
X
iâˆˆU
w2
i + QOPT (w \ U, c \ L) .
It follows that
QSC(w, c, P)
QOPT(w, c)
=
P
iâˆˆU w2
i + QSC(w \ U, c \ L, P \ (U, L))
P
iâˆˆU w2
i + QOPT (w \ U, c \ L)
â‰¤
QSC(w \ U, c \ L, P \ (U, L))
QOPT (w \ U, c \ L)
.
So consider the instance âŸ¨w \ U, c \ LâŸ©, and the associated pure Nash equilibrium P \ (U, L). There are two possibilities
according to the burstiness of the instance âŸ¨w \ U, c \ LâŸ©.
â€¢ Assume first that the smaller instance âŸ¨w\U, c\LâŸ©is non-bursty. Then, we are reduced to the previous case of non-bursty
instances, and the upper bound follows inductively.
â€¢ Assume now that the smaller instance âŸ¨w \ U, c \ LâŸ©is bursty. We repeatedly identify the set of bursty users for the
smaller instance, and we reduce this smaller instance to an even smaller instance that may be bursty or non-bursty. This
procedure eventually yields a non-bursty instance (even the trivial one with one user), and the claim for the original
bursty instance follows inductively.
The proof of the upper bound is now complete. We continue to prove the lower bound. Fix n = 8 and m = 3. Set
wi = 1 for 1 â‰¤i â‰¤2 and wi =
1
3 otherwise. Observe that P = âŸ¨1, 1, 2, 2, 2, 3, 3, 3âŸ©, is a pure Nash equilibrium with
QSC(w, c, P) = 22 + 12 + 12 = 6. Moreover, consider the pure assignment Q = âŸ¨1, 2, 1, 2, 3, 3, 3, 3âŸ©that achieves
QSC(w, c, Q) = 3 Â·
  4
3
2 = 16
3 . Thus, QCR â‰¥QSC(w,c,P)
QSC(w,c,Q) =
6
16
3 = 9
8, as needed.
â– 
5.2. Mixed Nash equilibria
Throughout this section, we focus on the case of identical links. The fully mixed Nash equilibrium is treated in
Section 5.2.1. The case of identical users is considered in Section 5.2.2.
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
203
5.2.1. Identical links and fully mixed Nash equilibrium
We prove:
Theorem 5.3. Consider the case of identical links. Then, restricted to the fully mixed Nash equilibrium,
QCR = 1 +
min{n, m} âˆ’1
m
.
Proof. We first prove the upper bound. Consider any arbitrary instance âŸ¨w, câŸ©, with an associated fully mixed Nash
equilibrium F, and optimal (pure) assignment Q. Assume, without loss of generality, that Î´1(Q) â‰¥. . . â‰¥Î´m(Q); that is, the
links are indexed in non-increasing order of their loads in Q. Clearly, QSC(w, c, Q) = P
lâˆˆ[m](Î´l(Q))2, while by Theorem 4.2,
QSC(w, c, F) = W 2
m +
 1 âˆ’1
m

W1.
Transform the instance âŸ¨w, câŸ©to an instance âŸ¨b
w,bcâŸ©with m identical links and min{n, m} users with weights bwi = Î´i(Q)
for i âˆˆ[min{n, m}]. Clearly, b
W = W and b
W1 â‰¥W1, while b
W1 â‰¥
b
W 2
min{n,m}. Notice that if n â‰¤m, then Î´l(Q) = 0 for all links
l > n = min{n, m}, and the two instances are identical.
Denote bQ the pure assignment for the new instance âŸ¨b
w,bcâŸ©, that assigns user i âˆˆ[min{n, m}] to the link i âˆˆ[m]. Clearly,
QSC(b
w,bc,bQ) = QSC(w, c, Q). Moreover, by construction QSC(b
w,bc,bQ) = b
W1.
Denote also bF, the fully mixed Nash equilibrium for the new instance âŸ¨b
w,bcâŸ©. By Theorem 4.2, QSC(b
w,bc,bF) =
b
W 2
m +
 1 âˆ’1
m
 b
W1 â‰¥W 2
m +
 1 âˆ’1
m

W1 = QSC(w, c, F). Hence,
QSC(w, c, F)
QOPT(w, c)
=
QSC(w, c, F)
QSC(w, c, Q)
â‰¤
QSC(b
w,bc,bF)
QSC(b
w,bc,bQ)
=
 1 âˆ’1
m
 b
W1 +
b
W 2
m
b
W1
= 1 âˆ’
1
m +
1
m
b
W 2
b
W1
â‰¤1 âˆ’
1
m +
1
m
min{n, m}
= 1 +
min{n, m} âˆ’1
m
.
Since the instance âŸ¨w, câŸ©was chosen arbitrarily, it follows that QCR â‰¤1 + min{n,m}âˆ’1
m
, and the proof of the upper bound is
complete.
We continue to prove the lower bound. Fix n = m. Set wi = 1 for all users i âˆˆ[n]. Then, clearly, QSC(w, c, F) =
W1 + 2
m W2 = m Â· 12 + 2
m
m(mâˆ’1)
2
Â· 1 = 2m âˆ’1. Moreover, QOPT(w, c) = m Â· 12 = m. Thus, QCR â‰¥QSC(w,c,F)
QOPT(w,c) = 2 âˆ’1
m, as
needed.
â– 
Note that since n â‰¥2 and m â‰¥2, the tight bound of 1 + min{n,m}âˆ’1
m
is at least 3
2 and strictly less than 2.
5.2.2. Identical users and identical links
We prove:
Theorem 5.4. Consider the case of identical users and identical links. Then,
QCR â‰¤1 + min

m âˆ’1
n
,
n âˆ’1
m

.
Proof. Consider any arbitrary instance âŸ¨w, câŸ©, with an associated Nash equilibrium P. Theorem 4.8, and Corollary 4.6 imply
that QSC(w, c, P) â‰¤n(n+mâˆ’1)
m
. Since QOPT(w, c) â‰¥n max

1, n
m
	
, it follows that
QSC(w, c, P)
QOPT(w, c)
â‰¤
n + m âˆ’1
m
min
n
1,
m
n
o
= (n + m âˆ’1) min

1
n,
1
m

= min

1 +
m âˆ’1
n
, 1 +
n âˆ’1
m

204
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
= 1 + min

m âˆ’1
n
,
n âˆ’1
m

,
as needed.
â– 
A simple case analysis on the relation between n and m reveals that for all m â‰¥2, and n â‰¥2, min
 mâˆ’1
n , nâˆ’1
m
	
+
max
 1
n, 1
m
	
â‰¤
min{n,m}âˆ’1
m
. This implies that the upper bound in Theorem 5.4, for the case of identical users and identical
links, not only applies to all (mixed) Nash equilibria, but it is no worse than the tight bound in Theorem 5.3, for the case of
identical links, which applies only to the fully mixed Nash equilibrium. So, intuitively, Theorems 5.3 and 5.4 together, suggest
that for the case of identical links, considering arbitrary users, but restricting to the fully mixed Nash equilibrium, may have
a more severe influence on the Quadratic Coordination Ratio, than considering all mixed Nash equilibria, but restricting to
identical users.
6. Epilogue
6.1. Summary
We have presented a new, potentially rich model for selfish routing over non-cooperative networks, as an interesting
hybridization of the two prevailing models for selfish routing, namely the KP model [26] and the W model [36]. Within
this model, we focused on certain algorithmic and combinatorial properties of Nash equilibria; we also introduced and
studied the Quadratic Social Cost and Quadratic Coordination Ratio, as interesting variants of the well studied Social Cost
and Coordination Ratio, respectively, from the KP model [26].
Most interestingly, we presented a collection of tight bounds on the Quadratic Coordination Ratio for our model; these
are the first known constant (or bounded by a constant) bounds (independent of the number of users and the number of
links) for models with unsplittable traffic. Some of our proof techniques highlight several interesting transformations of
instances (user traffics and link capacities), which could be useful for other applications.
6.2. Subsequent work
Some subsequent work has touched issues similar to those addressed in this work.
â€¢ Gairing et al. [22] introduce and study a discrete routing game as yet another hybridization of the KP model and the W
model. In their model, the latency on a link is determined by an arbitrary, non-decreasing, convex function; in turn, the
latency defines the Expected Individual Cost for a user (in the same way as in the KP model). However, the Social Cost is
taken to be the sum of the Expected Individual Costs (as in the W model). When users are identical, and latency functions
are linear, this discrete routing game reduces to the special case of identical users for the model studied in this paper.
We note that the set of Nash equilibria for the model of Gairing et al. [22] (defined through arbitrary, convex latency
functions) is (in general) different from the set of Nash equilibria for the model in this paper (which coincides with the
set of Nash equilibria for the KP model).
The following results in the work of Gairing et al. [22], are related to the model studied in this paper; some of them,
although more general, become less tight than corresponding results in this paper for the special cases we considered.
Â· Gairing et al. [22, Theorem 1] prove that the fully mixed Nash equilibrium (when it exists) is the worst-case Nash
equilibrium for the case of identical users in their model. This extends our Theorem 4.8 to the case of links with
arbitrary, convex latency functions.
Â· For the case of identical users, and identical links with latency functions f (x) = xd, where d â‰¥1, Gairing et al. [22,
Theorem 5] prove a tight bound of Bd+1, the (d+1)-th Bell number, on Coordination Ratio (for their model). For d = 1,
this implies an upper bound of B2 = 2 on the Quadratic Coordination Ratio for the case of identical users, and identical
links in our model, which applies to all (mixed) Nash equilibria. Theorem 5.4 in this work provides a slightly better
upper bound.
Â· For the case of identical users, and arbitrary links with polynomial latency functions of maximum degree d, Gairing
et al. [22, Corollary 1], prove an upper bound of d + 1 on the Coordination Ratio, restricted to pure Nash equilibria.
For d = 1, this implies an upper bound of 2 on the Quadratic Coordination Ratio, for the case of identical users and
identical links in our model, restricted to pure Nash equilibria. Theorem 5.1 provides a significantly better bound ( 4
3).
â€¢ Finally, Gairing et al. [20] introduce and study yet another hybridization of the KP model, and the W model. In their model,
the latency on a link is a linear function of load on the link (as in both the KP model and the model studied in this paper).
However, a so called Polynomial Social Cost is adopted that extends Quadratic Social Cost to arbitrary degrees. In turn,
this yields Polynomial Coordination Ratio. Gairing et al. [20] only consider the case of identical users and identical links.
For this case, they present a collection of upper bounds on Polynomial Coordination Ratio.
â€¢ Two recent papers [4,9] make significant progress towards determining the Coordination Ratio in the more general,
related contexts of congestion games [33] and weighted congestion games [30].
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
205
Â· Awerbuch et al. [4] consider multicommodity weighted network congestion games [19] in general networks with linear
latency functions; they study the Coordination Ratio with respect to total latency, which coincides with our Quadratic
Coordination Ratio. Thus, our model can be cast as the special case of the model in [4] with a single commodity, and a
parallel links network. Awerbuch et al. [4] prove that the Coordination Ratio is precisely 3+
âˆš
5
2
â‰ˆ2.618 in the general
case, but, restricted to pure Nash equilibria and identical users, it reduces to 5
2. Both bounds clearly apply as upper
bounds to our model as well, but not as lower bounds since the constructions employed in [4] for the lower bounds
use a multicommodity network, different from the parallel links network. Moreover, Theorem 5.1 implies that the 5
2
bound is not tight for our model; the tightness of the 3+
âˆš
5
2
bound for our model is posed as an open problem.
Â· Christodoulou and Koutsoupias [9] consider general unweighted congestion games, both single-commodity and
multicommodity, with linear cost functions; they study the Coordination Ratio, with respect to both the sum of
Individual Costs and the maximum Individual Cost, the latter coinciding with our Quadratic Coordination Ratio (in
the case of identical users). For single-commodity congestion games and pure Nash equilibria, Christodoulou and
Koutsoupias [9] prove a tight bound of 5nâˆ’2
2n+1 on the Coordination Ratio, which is strictly less than the corresponding
(tight) bound of 5
2 shown by Awerbuch et al. [4] for multicommodity networks, pure Nash equilibria and identical
users. This bound clearly applies as an upper bound to our model as well, but not as a lower bound, since the
construction employed in [9] for the lower bound uses a congestion game other than the parallel links network. Again,
Theorem 5.1 implies that this bound is not tight for our model. Christodoulou and Koutsoupias [9] prove independently
the same tight bound of 5
2 on the Coordination Ratio for multicommodity congestion games with identical users and
for pure Nash equilibria, and similar bounds on the Coordination Ratio as the maximum Individual Cost (for both
single-commodity and multicommodity congestion games).
6.3. Open problems
We conclude this article with a collection of questions that naturally pose themselves within the new model for selfish
routing, introduced in this work.
(1) What is the time complexity of computing the Quadratic Social Cost of an arbitrary Nash equilibrium? Proposition 4.1
provides a polynomial algorithm with time complexity O(mn) for any arbitrary assignment. Is this optimal? (Lower
bounds are totally missing.) Can this be improved for Nash equilibria?
(2) What is the time complexity of deciding optimality (with respect to Quadratic Social Cost) for a given pure assignment?
Proposition 3.2 implies an O(n + m2) upper bound for the case of identical users. Is there a polynomial upper bound for
the general case?
(3) Prove the Quadratic Fully Mixed Nash Equilibrium Conjecture (Conjecture 4.1).
(4) What is the value of the Quadratic Coordination Ratio, when restricted to pure Nash equilibria, for the new model?
Theorems 5.1 and 5.2 consider separately the two cases of identical links and identical users. It is challenging to merge
the two separate proofs for the two special cases into one, for the general case (restricted to pure Nash equilibria). (An
upper bound of 3+
âˆš
5
2
follows from the recent works [4,9].)
(5) What is the value of the Quadratic Coordination Ratio when all Nash equilibria are considered? (Again, the upper bound
of 3+
âˆš
5
2
from [4,9] applies here as well.)
Acknowledgments
We are grateful to the two anonymous referees for the numerous helpful comments and suggestions they provided. We
especially thank one of the two referees for providing vast simplifications to our own original proofs of Theorems 5.1 and
5.3. We also thank Rainer Feldmann and Martin Gairing for several helpful discussions.
References
[1] N. Alon, Y. Azar, G.J. Woeginger, T. Yadid, Approximation schemes for scheduling, in: Proceedings of the 8th Annual ACM-SIAM Symposium on Discrete
Algorithms, pp. 493â€“500, 1997.
[2] E. Altman, T. Basar, T. Jimenez, N. Shimkin, Competitive routing in networks with polynomial costs, IEEE Transactions on Automatic Control 47 (1)
(2002) 92â€“96.
[3] B. Awerbuch, Y. Azar, Y. Richter, D. Tsur, Tradeoffs in worst-case equilibria, Theoretical Computer Science 361 (2â€“3) (2006) 200â€“209.
[4] B. Awerbuch, Y. Azar, A. Epstein, The price of routing unsplittable flow, in: Proceedings of the 37th Annual ACM Symposium on Theory of Computing,
2005, pp. 57â€“66.
[5] M.J. Beckmann, On the theory of traffic flow in networks, Traffic Quart. 21 (1967) 109â€“116.
[6] M. Beckmann, C.B. McGuire, C.B. Winsten, Studies in the Economics of Transportation, Yale University Press, 1956.
[7] D. Braess, Ãœber ein Paradoxen aus der Verkehrsplanung, Unternehmensforschung 12 (1968) 258â€“268.
[8] A.K. Chandra, C.K. Wong, Worst-case analysis of a placement algorithm related to storage allocation, SIAM Journal on Computing 4 (3) (1975) 249â€“263.
[9] G. Christodoulou, E. Koutsoupias, The price of anarchy for finite congestion games, in: Proceedings of the 37th Annual ACM Symposium on Theory of
Computing, 2005, pp. 57â€“66.
[10] R.A. Cody, E.G. Coffman Jr., Record allocation for minimizing expected retrieval costs on crum-like storage devices, Journal of the ACM 23 (1) (1976)
103â€“115.
206
T. LÃ¼cking et al. / Theoretical Computer Science 406 (2008) 187â€“206
[11] J.R. Correa, A.S. Schulz, N.E. Stier Moses, Computational complexity, fairness and the price of anarchy of the maximum latency problem,
in: G.L. Nemhauser, D. Bienstock (Eds.), Proceedings of the 10th Conference on Integer Programming and Combinatorial Optimization, in: Lecture
Notes in Computer Science, vol. 3064, Springer-Verlag, 2004, pp. 59â€“73.
[12] A. Czumaj, P. Krysta, B. VÃ¶cking, Selfish traffic allocation for server farms, in: Proceedings of the 34th Annual ACM Symposium on Theory of Computing,
2002, pp. 287â€“296.
[13] A. Czumaj, B. VÃ¶cking, Tight bounds for worst-case equilibria, ACM Transactions on Algorithms 3 (1) (2007).
[14] S.C. Dafermos, F.T. Sparrow, The traffic assignment problem for a general network, Journal of Research of the National Bureau of Standards, Series B
73B (2) (1969) 91â€“118.
[15] E. Even-Dar, A. Kesselman, Y. Mansour, Convergence time to Nash equilibria in load balancing games, ACM Transactions on Algorithms 3 (3) (2007).
[16] R. Feldmann, M. Gairing, T. LÃ¼cking, B. Monien, M. Rode, Nashification and the coordination ratio for a selfish routing game, in: J.C.M. Baeten,
J.K. Lenstra, J. Parrow, G.J. Woeginger (Eds.), Proceedings of the 30th International Colloquium on Automata, Languages and Programming, in: Lecture
Notes in Computer Science, vol. 2719, Springer-Verlag, 2003, pp. 514â€“526.
[17] R. Feldmann, M. Gairing, T. LÃ¼cking, B. Monien, M. Rode, Selfish routing in non-cooperative networks: A survey, in: B. Rovan, P. VojtÃ¡Å¡ (Eds.),
Proceedings of the 28th International Symposium on Mathematical Foundations of Computer Science, in: Lecture Notes in Computer Science, vol.
2747, Springer-Verlag, 2003, pp. 21â€“45.
[18] D. Fotakis, S. Kontogiannis, E. Koutsoupias, M. Mavronicolas, P. Spirakis, The structure and complexity of Nash equilibria for a selfish routing game,
in: P. Widmayer, F. Triguero, R. Morales, M. Hennessy, S. Eidenbenz, R. Conejo (Eds.), Proceedings of the 29th International Colloquium on Automata,
Languages and Programming, in: Lecture Notes in Computer Science, vol. 2380, Springer-Verlag, 2002, pp. 123â€“134.
[19] D. Fotakis, S. Kontogiannis, P. Spirakis, Selfish unsplittable flow, Theoretical Computer Science 348 (2â€“3) (2005) 226â€“239.
[20] M. Gairing, T. LÃ¼cking, M. Mavronicolas, B. Monien, Computing Nash equilibria for scheduling on restricted parallel links, in: Proceedings of the 36th
Annual ACM Symposium on Theory of Computing, 2004, pp. 613â€“622.
[21] M. Gairing, T. LÃ¼cking, M. Mavronicolas, B. Monien, The price of anarchy for polynomial social cost, Theoretical Computer Science 369 (1â€“3) (2006)
116â€“135.
[22] M. Gairing, T. LÃ¼cking, M. Mavronicolas, B. Monien, M. Rode, Nash equilibria in discrete routing games with convex latency functions, in: J. Diaz,
J. KarhumÃ¤ki, A. LepistÃ¶, D. Sannella (Eds.), Proceedings of the 31st International Colloquium on Automata, Languages and Programming, in: Lecture
Notes in Computer Science, vol. 3142, Springer-Verlag, 2004, pp. 645â€“657.
[23] M. Gairing, T. LÃ¼cking, M. Mavronicolas, B. Monien, P. Spirakis, Structure and complexity of extreme Nash equilibria, Theoretical Computer Science
343 (1â€“2) (2005) 133â€“157.
[24] M. Gairing, T. LÃ¼cking, B. Monien, K. Tiemann, Nash equilibria, the price of anarchy and the fully mixed Nash equilibrium conjecture, in: L. Caires,
G.F. Italiano, L. Monteiro, C. Palamidessi, M. Yung (Eds.), Proceedings of the the 32nd International Colloquium on Automata, Languages and
Programming, in: Lecture Notes in Computer Science, vol. 3580, Springer-Verlag, 2005, pp. 51â€“65.
[25] E. Koutsoupias, M. Mavronicolas, P. Spirakis, Approximate equilibria and ball fusion, Theory of Computing Systems 36 (6) (2003) 683â€“693.
[26] E. Koutsoupias, C.H. Papadimitriou, Worst-case equilibria, in: G. Meinel, S. Tison (Eds.), Proceedings of the 16th Annual Symposium on Theoretical
Aspects of Computer Science, in: Lecture Notes in Computer Science, vol. 1563, Springer-Verlag, 1999, pp. 404â€“413.
[27] J.Y.T. Leung, W.D. Wei, Tighter bounds on a heuristic for a partition problem, Information Processing Letters 56 (1) (1995) 51â€“57.
[28] T. LÃ¼cking, M. Mavronicolas, B. Monien, M. Rode, P. Spirakis, I. Vrto, Which is the worst-case Nash equilibrium? in: B. Rovan, P. Vojtas (Eds.), Proceedings
of the 28th International Symposium on Mathematical Foundations of Computer Science, in: Lecture Notes in Computer Science, vol. 2747, Springer-
Verlag, 2003, pp. 551â€“561.
[29] M. Mavronicolas, P. Spirakis, The price of selfish routing, Algorithmica 48 (1) (2007) 91â€“126.
[30] I. Milchtaich, Congestion games with player-specific payoff functions, Games and Economic Behavior 13 (1) (1996) 111â€“124.
[31] J.F. Nash, Equilibrium points in N-person games, Proceedings of the National Academy of Sciences 36 (1950) 48â€“49.
[32] J.F. Nash, Non-cooperative games, Annals of Mathematics 54 (2) (1951) 286â€“295.
[33] R.W. Rosenthal, A class of games possessing pure strategy Nash equilibria, International Journal of Game Theory 2 (1) (1973) 65â€“67.
[34] T. Roughgarden, Selfish Routing and the Price of Anarchy, The MIT Press, 2005.
[35] T. Roughgarden, The maximum latency of selfish routing, in: Proceedings of the 15th Annual ACM-SIAM Symposium on Discrete Algorithms, 2004,
pp. 973â€“974.
[36] J.G. Wardrop, Some theoretical aspects of road traffic research, Proceedings of the of the Institute of Civil Engineers 1 (Pt. II) (1952) 325â€“378.
